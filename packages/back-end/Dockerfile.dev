FROM node:22-alpine
RUN npm install -g pnpm
WORKDIR /usr/src/app

COPY pnpm-lock.yaml pnpm-workspace.yaml package.json turbo.json ./
COPY packages/shared-types/package.json ./packages/shared-types/
COPY packages/back-end/package.json ./packages/back-end/


RUN pnpm install

COPY packages/back-end ./packages/back-end/
COPY packages/shared-types ./packages/shared-types/
